#!/bin/bash
while sleep 0.1; do
  git ls-files | entr -d debounce -d 5 sh -c '
    git add -A &&
    git commit -m "Auto-commit $(date)" &&
    git push &&
    >&2 echo "Auto commit repo" ||
    >&2 echo "Failed to autocommit"
  ' # debounce interval
done
